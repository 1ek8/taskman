This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
gradle/
  wrapper/
    gradle-wrapper.properties
src/
  main/
    java/
      com/
        aniket/
          taskman/
            config/
              MapperConfig.java
            controller/
              StudentController.java
            dto/
              StudentDTO.java
            entity/
              Student.java
            repository/
              StudentRepository.java
            service/
              impl/
                StudentServiceImpl.java
              StudentService.java
            PaymentService.java
            RazorpayPaymentService.java
            StripePaymentService.java
            TaskManApplication.java
    resources/
      application.properties
  test/
    java/
      com/
        aniket/
          taskman/
            TaskManApplicationTests.java
build.gradle
settings.gradle
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/main/java/com/aniket/taskman/config/MapperConfig.java">
package com.aniket.taskman.config;

import org.modelmapper.ModelMapper;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class MapperConfig {

    @Bean
    public ModelMapper modelMapper(){
        return new ModelMapper();
    }

}
</file>

<file path="src/main/java/com/aniket/taskman/repository/StudentRepository.java">
package com.aniket.taskman.repository;


import com.aniket.taskman.entity.Student;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface StudentRepository extends JpaRepository<Student, Long> {

}
</file>

<file path="src/main/java/com/aniket/taskman/service/impl/StudentServiceImpl.java">
package com.aniket.taskman.service.impl;

import com.aniket.taskman.dto.StudentDTO;
import com.aniket.taskman.entity.Student;
import com.aniket.taskman.repository.StudentRepository;
import com.aniket.taskman.service.StudentService;
import lombok.RequiredArgsConstructor;
import org.modelmapper.ModelMapper;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
@RequiredArgsConstructor //don't need to make a constructor for all variables declared as final
public class StudentServiceImpl implements StudentService {

    private final StudentRepository studentRepository;
    private final ModelMapper modelMapper;

    @Override
    public List<StudentDTO> getAllStudents() {
        List<Student> students = studentRepository.findAll();
        return students
                .stream()
//                .map(student -> new StudentDTO(student.getId(), student.getName(), student.getEmail()))
                .map(student -> modelMapper.map(student, StudentDTO.class))
                .toList();
    }

    @Override
    public StudentDTO getStudentbyId(Long id) {
        Student student = studentRepository.findById(id).orElseThrow(() -> new IllegalArgumentException("Student not Found for given id"));
        StudentDTO studentDto = modelMapper.map(student, StudentDTO.class);
        return studentDto;
    }
}
</file>

<file path="src/main/java/com/aniket/taskman/service/StudentService.java">
package com.aniket.taskman.service;

import com.aniket.taskman.dto.StudentDTO;
//import com.aniket.taskman.entity.Student;

import java.util.List;

public interface StudentService {

    List<StudentDTO> getAllStudents();
    StudentDTO getStudentbyId(Long id);
}
</file>

<file path="gradle/wrapper/gradle-wrapper.properties">
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-9.2.1-bin.zip
networkTimeout=10000
validateDistributionUrl=true
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
</file>

<file path="src/main/java/com/aniket/taskman/controller/StudentController.java">
package com.aniket.taskman.controller;

import com.aniket.taskman.dto.StudentDTO;
//import com.aniket.taskman.entity.Student;
//import com.aniket.taskman.repository.StudentRepository;
import com.aniket.taskman.service.StudentService;
import lombok.RequiredArgsConstructor;
import org.modelmapper.ModelMapper;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

@RestController
@RequiredArgsConstructor
public class StudentController {

    private final StudentService studentService;

//    public StudentController(StudentService studentService) {
//        this.studentService = studentService;
//    }

    @GetMapping("/student")
    public List<StudentDTO> getStudent() {
        return studentService.getAllStudents();
    }

    @GetMapping("/student/{id}")
    public StudentDTO getStudentById(@PathVariable Long id) {
//        return new StudentDTO(59L, "Aniket", "aniketsingh2151@gmail.com");
        return studentService.getStudentbyId(id);
    }

}
</file>

<file path="src/main/java/com/aniket/taskman/dto/StudentDTO.java">
package com.aniket.taskman.dto;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data //creates boilerplate for getter-setter, constructor, others
@AllArgsConstructor
@NoArgsConstructor
public class StudentDTO {
    private Long id;
    private String name;
    private String email;

}
</file>

<file path="src/main/java/com/aniket/taskman/entity/Student.java">
package com.aniket.taskman.entity;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import lombok.Getter;
import lombok.Setter;

@Entity
@Getter
@Setter
public class Student {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;

    private String email;

}
</file>

<file path="src/main/java/com/aniket/taskman/PaymentService.java">
package com.aniket.taskman;

public interface PaymentService {
    String pay();
}
</file>

<file path="src/main/java/com/aniket/taskman/RazorpayPaymentService.java">
package com.aniket.taskman;

import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;
import org.springframework.stereotype.Component;

@Component
@ConditionalOnProperty(name="payment.provider", havingValue = "razorpay")
public class RazorpayPaymentService implements PaymentService {

    @Override
    public String pay(){
        String Payment = "Razorpay Payment failed";
        System.out.println("Payment from : " + Payment);
        return Payment;
    }

}
</file>

<file path="src/main/java/com/aniket/taskman/StripePaymentService.java">
package com.aniket.taskman;

import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;
import org.springframework.stereotype.Component;
//import org.springframework.stereotype.Controller;
//import org.springframework.stereotype.Repository;
//import org.springframework.stereotype.Service;
//import org.springframework.web.bind.annotation.RestController;

//@Service
//@RestController
//@Repository
//@Controller
@Component
@ConditionalOnProperty(name="payment.provider", havingValue = "stripe")
public class StripePaymentService implements PaymentService{

    @Override
    public String pay() {
        String Payment = "Stripe Payment";
        System.out.println("Payment from : " + Payment);
        return "";
    }
}
</file>

<file path="src/main/java/com/aniket/taskman/TaskManApplication.java">
package com.aniket.taskman;

//import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class TaskManApplication implements CommandLineRunner {

    public static void main(String[] args) {
		SpringApplication.run(TaskManApplication.class, args);
	}

//    @Autowired
    private PaymentService paymentService ; //this can be final too, @AutoWired not used

    public TaskManApplication(PaymentService paymentService) {
        this.paymentService = paymentService;
    }

    @Override
    public void run(String... args) throws Exception {
        String Payment = paymentService.pay();
        System.out.println("Payment Done : " + Payment);
    }
}
</file>

<file path="src/main/resources/application.properties">
spring.application.name=TaskMan

payment.provider = stripe
#Port configuration
server.port=8080

#DB configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/postgres
spring.datasource.username=postgres
spring.datasource.password=mysecretpassword

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

debug=true
</file>

<file path="src/test/java/com/aniket/taskman/TaskManApplicationTests.java">
package com.aniket.taskman;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class TaskManApplicationTests {

	@Test
	void contextLoads() {
	}

}
</file>

<file path="build.gradle">
plugins {
	id 'java'
	id 'org.springframework.boot' version '4.0.0'
	id 'io.spring.dependency-management' version '1.1.7'
}

group = 'com.aniket'
version = '0.0.1-SNAPSHOT'
description = 'Demo project for Spring Boot'

java {
	toolchain {
		languageVersion = JavaLanguageVersion.of(21)
	}
}

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-webmvc'
    implementation 'org.modelmapper:modelmapper:3.1.0'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    runtimeOnly 'org.postgresql:postgresql'
    compileOnly 'org.projectlombok:lombok'
	developmentOnly 'org.springframework.boot:spring-boot-devtools'
	annotationProcessor 'org.projectlombok:lombok'
	testImplementation 'org.springframework.boot:spring-boot-starter-webmvc-test'
    testImplementation 'org.springframework.boot:spring-boot-starter-data-jpa-test'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

tasks.named('test') {
	useJUnitPlatform()
}
</file>

<file path="settings.gradle">
plugins {
    id 'org.gradle.toolchains.foojay-resolver-convention' version '1.0.0'
}

rootProject.name = 'taskman'
</file>

</files>
